<html>
    <head>
      <title>COVID-19 Waffle plot - US States</title>
      <meta http-equiv = 'Content-Type' content = 'text/html; charset = utf-8'>

      <script type = 'text/javascript' src = 'https://d3js.org/d3.v3.min.js'></script>
      <script type = 'text/javascript' src = 'https://cdn.jsdelivr.net/gh/RhoInc/Webcharts/build/webcharts.min.js'></script>

      <script type = 'text/javascript' src = '../safetyWaffle.js'></script>

      <link type = 'text/css' rel = 'stylesheet' href = 'https://cdn.jsdelivr.net/gh/RhoInc/Webcharts/css/webcharts.min.css'>
      <link type = 'text/css' rel = 'stylesheet' href = './index.css'>
    </head>

    <body>
      <div id = 'title'>COVID-19 Waffle plot - US States</div>
      <div id= 'details'>This page shows COVID-19 outcomes over time in the US with darker cells indicating larger values (n > 1000 shown in <span style="color:#e34a33; text-emphasis:bold;">orange</span>). Chart uses most recent data from <a href="https://covidtracking.com/">the COVID tracking project.</a> Code for the visualization is available on <a href="https://github.com/RhoInc/safety-waffle">github</a>. 
      </div>
      <div id = 'container'></div>
    </body>

    <script type = 'text/javascript'>
      let settings = {
          id_col: 'state',
          time_col: 'date',
          value_col: 'positive',
          filters: [] //updated in sync settings
        }
      const chart =safetyWaffle('#container', settings);
      d3.json('https://covidtracking.com/api/states/daily', function (data) {      
        chart.init(data);
      });
</script>
</html>
